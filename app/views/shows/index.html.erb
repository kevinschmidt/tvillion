<h1>Listing shows</h1>

<table width="100%" class="tablesorter" id="shows_main_table">
  <thead>
  <tr width="100%">
    <th>Status</th>
    <th>Name</th>
    <th>Season</th>
    <th>Episode</th>
    <th>Runtime</th>
    <th>HD</th>
    <th>Last Show Date</th>
    <th>Last Season</th>
    <th>Last Episode</th>
    <th>Next Show Date</th>
    <th>Next Season</th>
    <th>Next Episode</th>
    <th>Download</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  </thead>
  
  <tbody>
<% @shows.each_with_index do |show, index| %>
  <tr>
    <td><%= show.future_download? ? 'D' : '' %></td>
    <td><%= show.name %></td>
    <td><%= show.season %></td>
    <td><%= show.episode %></td>
    <td><%= show.runtime %></td>
    <td><%= show.hd %></td>
    <td><%= show.last_show_date %></td>
    <td><%= show.last_season %></td>
    <td><%= show.last_episode %></td>
    <td><%= show.next_show_date %></td>
    <td><%= show.next_season %></td>
    <td><%= show.next_episode %></td>
    <td><%= unless show.current_download.nil?
      '[%s,%s] %.0f%' % [show.current_download.season, show.current_download.episode, show.current_download.progressPercent]
    end %></td>
    <td><%= link_to 'Show', show %></td>
    <td><%= link_to 'Edit', edit_show_path(show) %></td>
    <td><%= link_to 'Destroy', show, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
  </tbody>
</table>

<br />

<%= link_to 'New Show', search_shows_path %>
